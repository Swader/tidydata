# tidydata
R studies about clean data

## Prerequisites

You need the `dplyr` package installed to use this.

## Usage

To use the `run_analysis.R` script included in this repo, download the source file from [here](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip). Make sure the folder that is produced by unzipping the archive is in the same folder where the file `run_analysis.R` is.

To use the analysis, load up R studio or something and just source the file. Everything should happen automatically, and a tidy data set should be produced.

For information about the variables in the set, see the [CODEBOOK](CODEBOOK.MD).

---

## Full Assignment Text

You should create one R script called run_analysis.R that does the following:

- Merges the training and the test sets to create one data set.
- Extracts only the measurements on the mean and standard deviation for each measurement. 
- Uses descriptive activity names to name the activities in the data set
- Appropriately labels the data set with descriptive variable names. 
- From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.

---

## The Process

First, we load all the files. If we look at the README of the project data, we can see that:

- `subject_*.txt` is a vector of test subject IDs
- `X_*.txt` is a table of many observations the names of which are in `features.txt`
- `Y_*.txt` is the type of activity being performed, described in `activity_labels.txt`

It follows that we can join by column: subject_*, X_* and Y_*. Seeing as test vs train are a random separation of the same subject set into a test group and an observed group, we can merge those by row to get the full, original set of measurements.

The names are, while this joining is being done, extracted from relevant files and applied to the variables, as to replace the `Vxyz` autogenerated labels.

Once joined, all columns but the ones about mean and std are removed - this is done by grepping for them in the list of column names and selecting only those that match.

Finally, we summarize each of the groups generated by looking at subjectId and activity, all while piping the data frame from function to function. The result is printed out into a file.